(function(e){var t=[];var n=0;var r;var i;e.fn.super=function(s,o){var u={mode:"append"};var o=e.extend(u,o);if(s==="post"){e(".submit").click(function(){n=0;e(this).parent().find(".param").each(function(){if(n===0)t.push(e(this).attr("data-url"));else if(n===1&&o.mode=="append"){t.push(e(this).attr("data-model"));window.count=e(this).attr("data-model").split("{").length-1}else t.push(e(this).val());n++});e.post(t[0],{field1:t},function(t){if(o.mode=="append"){var i=JSON.parse(t);var s=i[0]["field1"][1];var u="";for(n=1;n<=window.count;n++){r="{"+n+"}";s=s.replace(r,i[1][n-1])}u=s;console.log(u);e("ul").append(u)}else if(o.mode=="change"){e(".bp").fadeOut();var i=JSON.parse(t);e(".ap").each(function(){e(this).fadeIn();console.log(e(this).html());var t=e(".argNumber").attr("data-narg");var r=e(this).html();var s="";for(n=1;n<=t;n++){var o=new RegExp("param"+n+"param","igm");r=r.replace(o,i[1][n-1])}s=r;console.log(s);e(this).replaceWith(s)})}});t=[];n=0;i=0})}if(s==="get"){}}})(jQuery)